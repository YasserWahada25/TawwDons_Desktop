<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>

<AnchorPane fx:controller="controllers.offre.ListOffresController"
            prefWidth="1000.0" prefHeight="700.0"
            xmlns="http://javafx.com/javafx/23.0.1"
            xmlns:fx="http://javafx.com/fxml/1">

    <children>

        <!-- 1. Inclusion du navbar séparé -->

            <fx:include source="/navbar.fxml"/>


        <!-- 2. TITRE + FILTRE sous le navbar (hauteur ≃ 62px) -->
        <VBox spacing="20"
              AnchorPane.topAnchor="62.0"
              AnchorPane.leftAnchor="20.0"
              AnchorPane.rightAnchor="20.0">
            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>

            <Label text="Liste des Offres Disponibles"
                   style="-fx-font-size:28px; -fx-font-weight:bold; -fx-text-fill:#1c2a4d;"/>

            <HBox spacing="10">
                <TextField promptText="Rechercher une offre..." />
                <Button text="Gérer les demandes reçues"
                        style="-fx-background-color:#ffc107;"/>
            </HBox>

            <!-- CONTAINER DYNAMIQUE -->
            <FlowPane fx:id="offresContainer"
                      hgap="20" vgap="20"
                      prefWidth="960">
                <padding>
                    <Insets top="10" right="10" bottom="10" left="10"/>
                </padding>
            </FlowPane>
        </VBox>

        <!-- 3. POPUP DETAILS (plein écran) -->
        <StackPane fx:id="popupPane" visible="false"
                   style="-fx-background-color:rgba(0,0,0,0.4);"
                   AnchorPane.topAnchor="0.0"
                   AnchorPane.bottomAnchor="0.0"
                   AnchorPane.leftAnchor="0.0"
                   AnchorPane.rightAnchor="0.0">

            <VBox fx:id="popupContent" alignment="CENTER" spacing="15"
                  style="-fx-background-color:white; -fx-padding:20; -fx-background-radius:10;"
                  maxWidth="400" maxHeight="300">

                <Label fx:id="popupTitle" text="Titre de l'Offre"
                       style="-fx-font-size:20px; -fx-font-weight:bold;"/>

                <Label fx:id="popupDescription" text="Description : ..." wrapText="true"/>

                <Button text="Fermer" onAction="#closePopup"
                        style="-fx-background-color:#6c757d; -fx-text-fill:white;"/>
            </VBox>
        </StackPane>

    </children>
</AnchorPane>
